-- Copyright 2023 Jing Yanming
--
-- Licensed under the Apache License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
USE `a297dfacd7a84eab9656675f61750078`;
-- MySQL dump 10.13  Distrib 5.7.17, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: a297dfacd7a84eab9656675f61750078
-- ------------------------------------------------------
-- Server version	5.7.17

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `sys_sqls`
--

DROP TABLE IF EXISTS `sys_sqls`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sys_sqls` (
  `sqlid` varchar(50) NOT NULL DEFAULT '',
  `content` varchar(10000) DEFAULT NULL,
  `sql_desc` varchar(200) DEFAULT NULL,
  `sql_group` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`sqlid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sys_sqls`
--

LOCK TABLES `sys_sqls` WRITE;
/*!40000 ALTER TABLE `sys_sqls` DISABLE KEYS */;
INSERT INTO `sys_sqls` VALUES ('api0001','select sys_apis.appid,sys_apis.moduleid,sys_apis.apiid,sys_apis.apinm,sys_apis.op_type,sys_apis.contentid,sys_apis.status,sys_apis.createdt,sys_apis.updatedt,sys_apis.updatecmt,sys_apis.pid,sys_api_content.content from sys_apis join sys_api_content on sys_apis.contentid=sys_api_content.contentid  where ','预留数据。导入导出 API 使用','base'),('api0002','select sys_api_his.hisid,sys_api_his.appid,sys_api_his.moduleid,sys_api_his.apiid,sys_api_his.updatedt,sys_api_his.pid,sys_api_his.updatecmt,sys_api_his.apinm,sys_api_his.op_type,sys_api_his.status,sys_api_his_content.content from sys_api_his join sys_api_his_content on sys_api_his.hisid=sys_api_his_content.hisid  where','预留数据。导入导出 API 使用','base'),('api0003','select appid,moduleid,apiid,apinm,op_type,contentid,status,createdt,updatedt,updatecmt,pid from sys_apis where appid=? and moduleid=? and apiid=?','预留数据。导入导出 API 使用','base'),('api0004','insert into sys_apis (appid,moduleid,apiid,apinm,op_type,contentid,status,createdt,updatedt,updatecmt,pid) values (?,?,?,?,?,?,?,?,?,?,?)','预留数据。导入导出 API 使用','base'),('api0005','update sys_apis set apinm=?,op_type=?,contentid=?,status=?,createdt=?,updatedt=?,updatecmt=?,pid=? where appid=? and moduleid=? and apiid=?','预留数据。导入导出 API 使用','base'),('api0006','insert into sys_api_content (contentid,content) values (?,?)','预留数据。导入导出 API 使用','base'),('api0007','update sys_api_content set content=? where contentid=?','预留数据。导入导出 API 使用','base'),('api0008','insert into sys_api_his (hisid,appid,moduleid,apiid,updatedt,pid,updatecmt,apinm,op_type,status) values (?,?,?,?,?,?,?,?,?,?)','预留数据。导入导出 API 使用','base'),('api0009','insert into sys_api_his_content (hisid,content) values (?,?)','预留数据。导入导出 API 使用','base'),('api0010','select appid,appnm,about,status,createdt,updatedt,uri from sys_apps where','预留数据。导入导出 API 使用','base'),('api0011','insert into sys_apps (appid,appnm,about,status,createdt,updatedt,uri) values (?,?,?,?,?,?,?)','预留数据。导入导出 API 使用','base'),('api0012','select appid,moduleid,modulenm,about,auflag,status,createdt,updatedt from sys_modules where','预留数据。导入导出 API 使用','base'),('api0013','select appid,moduleid,modulenm,about,auflag,status,createdt,updatedt from sys_modules where appid=? and moduleid=?','预留数据。导入导出 API 使用','base'),('api0014','insert into sys_modules (appid,moduleid,modulenm,about,auflag,status,createdt,updatedt) values (?,?,?,?,?,?,?,?)','预留数据。导入导出 API 使用','base'),('auth0002','select role.roleid,api.appid,api.moduleid,api.apiid \r\nfrom sys_role_api api,sys_role role,sys_apps apps,sys_modules modules,sys_apis apis \r\nwhere api.roleid=role.roleid \r\nand api.appid=apps.appid \r\nand api.appid=modules.appid \r\nand api.moduleid=modules.moduleid \r\nand (modules.auflag=\'0\' or modules.auflag=\'2\') \r\nand api.appid=apis.appid \r\nand api.moduleid=apis.moduleid \r\nand api.apiid=apis.apiid \r\nand role.status=\'1\' and api.status=\'1\' and apps.status=\'1\' and modules.status=\'1\' and apis.status=\'1\'','预留数据。所有角色API信息','base'),('auth0003','select sys_role.orgid,sys_role.roleid,sys_role_api.appid,sys_role_api.moduleid,sys_role_api.apiid from sys_role_api,sys_role,sys_apps,sys_modules,sys_apis where sys_role_api.roleid=sys_role.roleid and sys_role.orgid=? and sys_role_api.appid=sys_apps.appid and sys_role_api.appid=sys_modules.appid and sys_role_api.moduleid=sys_modules.moduleid and (sys_modules.auflag=\'0\' or sys_modules.auflag=\'2\') and sys_role_api.appid=sys_apis.appid and sys_role_api.moduleid=sys_apis.moduleid and sys_role_api.apiid=sys_apis.apiid and sys_role.status=\'1\' and sys_role_api.status=\'1\' and sys_apps.status=\'1\' and sys_modules.status=\'1\' and sys_apis.status=\'1\'','预留数据。从 DB 获取指定机构的角色信息','base'),('auth0004','select sys_role.orgid orgid, sys_role.roleid roleid \r\nfrom sys_user_role,sys_role \r\nwhere sys_user_role.pid=? \r\nand sys_user_role.roleid=sys_role.roleid \r\nand sys_user_role.status=\'1\' \r\nand sys_role.status=\'1\'\r\n union \r\nselect sys_pl_org_application.orgid orgid,sys_user_role.roleid roleid \r\nfrom sys_user_role,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application \r\nwhere sys_user_role.pid=? \r\nand sys_user_role.roleid=sys_pl_role_release.roleid \r\nand sys_pl_role_release.applicationid=sys_pl_application_release.applicationid \r\nand sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid  \r\nand sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid \r\nand sys_pl_biz_application.biz_status=\'20\' \r\nand sys_pl_org_application.orgid=? \r\nand (sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) \r\nand sys_user_role.status=\'1\' \r\nand sys_pl_role_release.status=\'1\' \r\nand sys_pl_application_release.status=\'1\' \r\nand sys_pl_biz_application.status=\'1\' \r\nand sys_pl_org_application.status=\'1\' \r\n union \r\nselect sys_role.orgid orgid, sys_role.roleid roleid \r\nfrom sys_dept_role,sys_user_dept,mdm_dept,mdm_org,sys_role \r\nwhere sys_user_dept.pid=? \r\nand sys_dept_role.deptid=sys_user_dept.deptid \r\nand sys_user_dept.deptid=mdm_dept.deptid \r\nand mdm_dept.orgid=mdm_org.orgid \r\nand mdm_dept.orgid=? \r\nand sys_dept_role.roleid=sys_role.roleid \r\nand sys_dept_role.status=\'1\' \r\nand sys_user_dept.status=\'1\' \r\nand mdm_dept.status=\'1\' \r\nand mdm_org.status=\'1\' \r\nand sys_role.status=\'1\'\r\n union \r\nselect sys_pl_org_application.orgid orgid,sys_dept_role.roleid roleid \r\nfrom sys_dept_role,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application,sys_user_dept,mdm_dept,mdm_org \r\nwhere sys_user_dept.pid=? \r\nand sys_dept_role.deptid=sys_user_dept.deptid \r\nand sys_user_dept.deptid=mdm_dept.deptid \r\nand mdm_dept.orgid=mdm_org.orgid \r\nand mdm_dept.orgid=? \r\nand sys_dept_role.roleid=sys_pl_role_release.roleid \r\nand sys_pl_role_release.applicationid=sys_pl_application_release.applicationid \r\nand sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid  \r\nand sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid \r\nand sys_pl_biz_application.biz_status=\'20\' \r\nand sys_pl_org_application.orgid=? \r\nand (sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) \r\nand sys_dept_role.status=\'1\' \r\nand sys_pl_role_release.status=\'1\' \r\nand sys_pl_application_release.status=\'1\' \r\nand sys_pl_biz_application.status=\'1\' \r\nand sys_pl_org_application.status=\'1\' \r\nand mdm_dept.status=\'1\' \r\nand mdm_org.status=\'1\' \r\n\r\n','预留数据。获取登录用户角色ID信息','base'),('auth0005','select sys_role.orgid orgid, sys_role.roleid roleid \r\nfrom sys_system_role,sys_role \r\nwhere sys_system_role.sysid=? \r\nand sys_system_role.roleid=sys_role.roleid \r\nand sys_system_role.status=\'1\' and sys_role.status=\'1\' \r\nunion \r\nselect sys_pl_org_application.orgid orgid,sys_system_role.roleid roleid \r\nfrom sys_system_role,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application \r\nwhere sys_system_role.sysid=? \r\nand sys_system_role.roleid=sys_pl_role_release.roleid \r\nand sys_pl_role_release.applicationid=sys_pl_application_release.applicationid \r\nand sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid \r\nand sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid \r\nand sys_pl_biz_application.biz_status=\'20\' \r\nand sys_pl_org_application.orgid=? and \r\n(sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) \r\nand sys_system_role.status=\'1\' and sys_pl_role_release.status=\'1\' and sys_pl_application_release.status=\'1\' and sys_pl_biz_application.status=\'1\' and sys_pl_org_application.status=\'1\' ','预留数据。应用信息更新时向缓存中更新系统信息','base'),('auth0006','select sysid from sys_system where status = \'1\'','预留数据。获取所有可用系统ID','base'),('auth0007','select sysrole.sysid,role.orgid orgid,role.roleid roleid \r\nfrom sys_system_role sysrole,sys_role role \r\nwhere sysrole.roleid=role.roleid \r\nand sysrole.status=\'1\' and role.status=\'1\' \r\nunion \r\nselect sys_system_role.sysid,sys_pl_org_application.orgid orgid,sys_system_role.roleid roleid \r\nfrom sys_system_role,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application \r\nwhere sys_system_role.roleid=sys_pl_role_release.roleid \r\nand sys_pl_role_release.applicationid=sys_pl_application_release.applicationid \r\nand sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid \r\nand sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid \r\nand sys_pl_biz_application.biz_status=\'20\' \r\nand sys_pl_org_application.orgid=? and \r\n(sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) \r\nand sys_system_role.status=\'1\' and sys_pl_role_release.status=\'1\' and sys_pl_application_release.status=\'1\' and sys_pl_biz_application.status=\'1\' and sys_pl_org_application.status=\'1\' ','预留数据。获取所有可用系统的角色ID','base'),('auth0008','select sys_role.roleid,sys_role_api.appid,sys_role_api.moduleid,sys_role_api.apiid \r\nfrom sys_role_api,sys_role,sys_apps,sys_modules,sys_apis\r\nwhere sys_role.comm_flag=\'1\' \r\nand sys_role_api.roleid=sys_role.roleid\r\nand sys_role_api.appid=sys_apps.appid\r\nand sys_role_api.appid=sys_modules.appid\r\nand sys_role_api.moduleid=sys_modules.moduleid\r\nand (sys_modules.auflag=\'0\' or sys_modules.auflag=\'2\')\r\nand sys_role_api.appid=sys_apis.appid\r\nand sys_role_api.moduleid=sys_apis.moduleid\r\nand sys_role_api.apiid=sys_apis.apiid\r\nand sys_role.status=\'1\'\r\nand sys_role_api.status=\'1\'\r\nand sys_apps.status=\'1\'\r\nand sys_modules.status=\'1\'\r\nand sys_apis.status=\'1\'','所有可用的通用角色信息','base'),('auth0009','select sys_role.roleid id,sys_role.rolenm name from sys_org_comm_role,sys_role where sys_org_comm_role.orgid=? and \r\nsys_org_comm_role.roleid=sys_role.roleid and sys_role.comm_flag=\'1\' and sys_org_comm_role.status=\'1\' and sys_role.status=\'1\'','获取机构拥有通用角色 ID 和 名称 集合[ { id:xxx, name:xxx}, { id:xxx, name:xxx} ]','base'),('auth0010','select menuid,null p_menuid,1 levels,menu_icon,menunm,uri,0 sorting_order,menu_desc,orgid,roleid from sys_menu where roleid is not null and status=\'1\' order by roleid','获取平台菜单表中角色ID不为空的记录','base'),('auth0011','select roleid from sys_role where comm_flag=\'1\' and status=\'1\'','获取平台角色表中的通用角色ID','base'),('auth0012',' select sys_role_release.roleid id, sys_role_release.rolenm name from sys_pl_org_application join sys_application_release on sys_pl_org_application.applicationid=sys_application_release.applicationid\r\n join sys_role_release on sys_pl_org_application.applicationid = sys_role_release.applicationid and sys_role_release.applicationid=sys_application_release.applicationid\r\n where sys_pl_org_application.orgid=? and sys_pl_org_application.status=\'1\' and sys_application_release.status=\'1\' and sys_role_release.status=\'1\'','获取机构应用所拥有的角色，关联sys_pl_org_application，sys_role_release，sys_application_release','base'),('auth0013','SELECT sys_menu_release.menuid,\r\n       sys_menu_release.p_menuid,\r\n       sys_menu_release.levels,\r\n       sys_menu_release.menu_icon,\r\n       sys_menu_release.menunm,\r\n       sys_menu_release.uri,\r\n       sys_menu_release.sorting_order,\r\n       sys_menu_release.menu_desc,\r\n       sys_application_release.orgid\r\nFROM sys_pl_org_application\r\nJOIN sys_application_release ON sys_pl_org_application.applicationid=sys_application_release.applicationid\r\nJOIN sys_menu_release ON sys_pl_org_application.applicationid = sys_menu_release.applicationid\r\nAND sys_menu_release.applicationid=sys_application_release.applicationid\r\nWHERE sys_pl_org_application.orgid=?\r\n  AND sys_pl_org_application.status=\'1\'\r\n  AND sys_application_release.status=\'1\'\r\n  AND sys_menu_release.status=\'1\'','获取机构应用所拥有的菜单，关联sys_pl_org_application，sys_role_release，sys_application_release','base'),('auth0014','select role.roleid,api.appid,api.moduleid,api.apiid \r\nfrom sys_pl_role_release role,sys_pl_application_release app, sys_pl_role_api_release api,sys_pl_biz_application biz \r\nwhere role.applicationid=app.applicationid and role.roleid=api.roleid \r\nand biz.applicationid=app.applicationid \r\nand biz.biz_status=\'20\' \r\nand role.status=\'1\' and app.status=\'1\' and api.status=\'1\' and biz.status=\'1\'','系统预留。获取各机构已发布上线的应用的角色 API 信息','base'),('auth0015','select sys.sysid,api.roleid,api.appid,api.moduleid,api.apiid \r\nfrom sys_system_role sysrole,sys_role role,sys_role_api api,sys_system sys,sys_apps apps,sys_modules modules,sys_apis apis \r\nwhere sysrole.roleid=role.roleid and role.roleid=api.roleid and sysrole.sysid=sys.sysid and sys.orgid=? \r\nand api.appid=apps.appid \r\nand api.appid=modules.appid \r\nand api.moduleid=modules.moduleid \r\nand (modules.auflag=\'0\' or modules.auflag=\'2\') \r\nand api.appid=apis.appid \r\nand api.moduleid=apis.moduleid \r\nand api.apiid=apis.apiid \r\nand sysrole.status=\'1\' and role.status=\'1\' and api.status=\'1\' and sys.status=\'1\' \r\nand apps.status=\'1\' and modules.status=\'1\' and apis.status=\'1\'','系统预留。获取系统角色信息','base'),('auth0016','select app.orgid,api.appid,api.moduleid,api.apiid \r\nfrom sys_pl_application_release app, sys_pl_pub_api_release api,sys_pl_biz_application biz \r\nwhere api.applicationid=app.applicationid \r\nand biz.applicationid=app.applicationid \r\nand biz.biz_status=\'20\' \r\nand app.status=\'1\' and api.status=\'1\' and biz.status=\'1\'','系统预留。获取已发布上线公共API信息','base'),('auth0017','select api.appid,api.moduleid,api.apiid \r\nfrom sys_pl_application_release app, sys_pl_pub_api_release api \r\nwhere app.orgid=? and api.applicationid=app.applicationid and app.applicationid=? \r\nand app.status=\'1\' and api.status=\'1\'','系统预留。获取指定机构已发布的指定公共应用的角色 API 信息','base'),('auth0018','select role.roleid,api.appid,api.moduleid,api.apiid \r\nfrom sys_pl_role_release role,sys_pl_application_release app, sys_pl_role_api_release api \r\nwhere app.orgid=? and role.applicationid=app.applicationid and app.applicationid=? and role.roleid=api.roleid \r\nand role.status=\'1\' and app.status=\'1\' and api.status=\'1\'','系统预留。获取指定机构已发布的指定应用的角色 API 信息','base'),('auth0019','select typecd from sys_pl_application_release app, sys_pl_pub_model_release model where app.orgid=? and model.applicationid=app.applicationid and app.applicationid=? and app.status=\'1\' and model.status=\'1\'','系统预留。获取指定机构已发布的指定公共应用的角色模型信息','base'),('auth0020','select role.roleid,model.typecd from sys_pl_role_release role,sys_pl_application_release app, sys_pl_role_model_release model where app.orgid=? and role.applicationid=app.applicationid and app.applicationid=? and role.roleid=model.roleid and role.status=\'1\' and app.status=\'1\' and model.status=\'1\'','系统预留。获取指定机构已发布的指定应用的角色模型信息','base'),('auth0021','select sys_role.orgid orgid, sys_role.roleid roleid \r\nfrom sys_user_role,sys_role where sys_user_role.pid=? and sys_user_role.roleid=sys_role.roleid and sys_user_role.status=\'1\' and sys_role.status=\'1\' \r\nunion \r\nselect sys_pl_org_application.orgid orgid,sys_user_role.roleid roleid from \r\nsys_user_role,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application where sys_user_role.pid=? and sys_user_role.roleid=sys_pl_role_release.roleid and sys_pl_role_release.applicationid=sys_pl_application_release.applicationid and sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid and sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid and sys_pl_biz_application.biz_status=\'20\' and sys_pl_org_application.orgid=? and (sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) and sys_user_role.status=\'1\' and sys_pl_role_release.status=\'1\' and sys_pl_application_release.status=\'1\' and sys_pl_biz_application.status=\'1\' and sys_pl_org_application.status=\'1\' \r\nunion \r\nselect sys_role.orgid orgid, sys_role.roleid roleid from sys_role_ug,sys_ug,sys_ug_user,sys_role where sys_ug_user.pid=? and sys_ug_user.ugid=sys_ug.ugid and sys_ug.ugid=sys_role_ug.ugid and sys_role_ug.roleid=sys_role.roleid and sys_role_ug.status=\'1\' and sys_ug.status=\'1\' and sys_ug_user.status=\'1\' and sys_role.status=\'1\' \r\nunion \r\nselect sys_pl_org_application.orgid orgid,sys_role_ug.roleid roleid from sys_role_ug,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application,sys_ug,sys_ug_user where sys_ug_user.pid=? and sys_ug_user.ugid=sys_ug.ugid and sys_ug.ugid=sys_role_ug.ugid and sys_role_ug.roleid=sys_pl_role_release.roleid and sys_pl_role_release.applicationid=sys_pl_application_release.applicationid and sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid and sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid and sys_pl_biz_application.biz_status=\'20\' and sys_pl_org_application.orgid=? and (sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) and sys_role_ug.status=\'1\' and sys_pl_role_release.status=\'1\' and sys_pl_application_release.status=\'1\' and sys_pl_biz_application.status=\'1\' and sys_pl_org_application.status=\'1\' and sys_ug.status=\'1\' and sys_ug_user.status=\'1\'','系统预留','base'),('client0001','select rc.scope,role.roleid \r\nfrom sys_role_client rc,sys_role role \r\nwhere rc.client_id=? and rc.roleid=role.roleid and rc.status=\'1\' and role.status=\'1\' \r\nunion \r\nselect sys_role_client.scope,sys_role_client.roleid roleid \r\nfrom sys_role_client,sys_pl_role_release,sys_pl_application_release,sys_pl_biz_application,sys_pl_org_application \r\nwhere sys_role_client.client_id=? and sys_role_client.roleid=sys_pl_role_release.roleid \r\nand sys_pl_role_release.applicationid=sys_pl_application_release.applicationid \r\nand sys_pl_application_release.applicationid=sys_pl_biz_application.applicationid \r\nand sys_pl_biz_application.applicationid=sys_pl_org_application.applicationid \r\nand sys_pl_biz_application.biz_status=\'20\' \r\nand sys_pl_org_application.orgid=? \r\nand (sys_pl_org_application.expiration=\'00000000\' or sys_pl_org_application.expiration>=?) \r\nand sys_role_client.status=\'1\' \r\nand sys_pl_role_release.status=\'1\' \r\nand sys_pl_application_release.status=\'1\' \r\nand sys_pl_biz_application.status=\'1\' \r\nand sys_pl_org_application.status=\'1\' ','系统预留。','base'),('config0001','select config_key,config_value from sys_config where status=\'1\'','预留数据。获取所有可用系统配置属性','base'),('config0002','select config_key,config_value from sys_config where config_key=? and status=\'1\'','预留数据。从 DB 中获取指定的系统配置属性','base'),('conn0001','select did,owner orgid,url conn_url,user_name conn_user,pass conn_pwd,dbtype,pool_enabled,prop from sys_pl_drm_ds001 where status=\'1\'','获取所有可用数据服务连接','base'),('conn0002','select did,owner orgid,url conn_url,user_name conn_user,pass conn_pwd,dbtype,pool_enabled,prop from sys_pl_drm_ds001 where did=? and status=\'1\'','从 DB 中获取指定的可用数据服务连接','base'),('dict0005','select sqlid, content from sys_sqls where sql_group=\'dict\'','预留数据。获取所有主数据数据字典','base'),('dict0007','select max(updatedt) updatedt from ','预留数据。','base'),('dict0008','select dictcd id, dictnm name, concat(dictnm, \'(\', ifnull(shortkey,\'\'), \')\') text from sys_mdm002 where typecd=? and version=? and status=\'1\'','更新平台数据字典缓存时用','base'),('etl0001','SELECT id_slave,name,host_name,port,web_app_name,username,proxy_host_name,proxy_port,non_proxy_hosts,master,password FROM demolfy.R_SLAVE where 1=1','预留数据。','base'),('ide0001','select appid,moduleid,apiid,content from (\r select sys_apis.appid,sys_apis.moduleid,sys_apis.apiid,sys_api_content.content,sys_api_content.stability \r from sys_apps,sys_modules,sys_apis,sys_api_content \r where sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r sys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r sys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = sys_api_content.contentid \r and (sys_api_content.stability=\'50\' or sys_api_content.stability=\'60\') \r union\r select sys_apis.appid,sys_apis.moduleid,sys_apis.apiid,sys_api_his_content.content,sys_api_his_content.stability \r from sys_apps,sys_modules,sys_apis,\r (select max(his.updatedt) updatedt,sys_apis.appid,sys_apis.moduleid,sys_apis.apiid\r from sys_apps,sys_modules,sys_apis,sys_api_his_content his \r where sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r sys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r sys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = his.contentid \r and (his.stability=\'50\' or his.stability=\'60\') group by sys_apis.appid,sys_apis.moduleid,sys_apis.apiid\r ) max_his,sys_api_his_content left join \r (select sys_api_content.contentid\r from sys_apps,sys_modules,sys_apis,sys_api_content \r where sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r sys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r sys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = sys_api_content.contentid \r and (sys_api_content.stability=\'50\' or sys_api_content.stability=\'60\')\r ) sys_api_content on sys_api_his_content.contentid=sys_api_content.contentid\r where sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r sys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r sys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid=sys_api_his_content.contentid  \r and (sys_api_his_content.stability=\'50\' or sys_api_his_content.stability=\'60\')\r and sys_api_his_content.updatedt=max_his.updatedt\r and sys_api_content.contentid is null\r ) recent_record where recent_record.stability=\'50\'','预留数据。缓存API KPI，IDE 使用API 除外','base'),('ide0002','select sys_apis.appid,sys_apis.moduleid,sys_apis.apiid,sys_api_content.content \r\nfrom sys_apps,sys_modules,sys_apis,sys_api_content \r\nwhere sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r\nsys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r\nsys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = sys_api_content.contentid \r\nand sys_apps.appid=\'ZYAPP_IDE\' and sys_api_content.stability=\'50\'\r\nunion\r\nselect sys_apis.appid,sys_apis.moduleid,sys_apis.apiid,sys_api_his_content.content \r\nfrom sys_apps,sys_modules,sys_apis,\r\n(select max(his.hisid) hisid,sys_apis.appid,sys_apis.moduleid,sys_apis.apiid\r\nfrom sys_apps,sys_modules,sys_apis,sys_api_his_content his \r\nwhere sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r\nsys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r\nsys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = his.contentid \r\nand sys_apps.appid=\'ZYAPP_IDE\' and his.stability=\'50\' group by sys_apis.appid,sys_apis.moduleid,sys_apis.apiid\r\n) max_his,sys_api_his_content left join \r\n(select sys_api_content.contentid\r\nfrom sys_apps,sys_modules,sys_apis,sys_api_content \r\nwhere sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r\nsys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r\nsys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = sys_api_content.contentid \r\nand sys_apps.appid=\'ZYAPP_IDE\' and sys_api_content.stability=\'50\'\r\n) sys_api_content on sys_api_his_content.contentid=sys_api_content.contentid\r\nwhere sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r\nsys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r\nsys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid =sys_api_his_content.contentid  \r\nand sys_apps.appid=\'ZYAPP_IDE\' and sys_api_his_content.stability=\'50\' \r\nand sys_api_his_content.hisid=max_his.hisid\r\nand sys_api_content.contentid is null','预留数据。缓存 IDE 使用API','base'),('ide0003','select sys_api_content.content from sys_apps,sys_modules,sys_apis,sys_api_content \r where sys_apps.appid = sys_apis.appid and sys_modules.appid = sys_apis.appid and sys_modules.moduleid = sys_apis.moduleid and \r sys_apps.status = \'1\' and sys_modules.status = \'1\' and sys_apis.status = \'1\' and \r sys_apps.appflag = \'0\' and (sys_modules.auflag = \'0\' or sys_modules.auflag = \'2\') and sys_apis.contentid = sys_api_content.contentid and sys_apis.appid=? and sys_apis.moduleid=? and sys_apis.apiid=?','从 DB 获取 API 代码内容','base'),('ide0004','SELECT \r\n    apis.appid, apis.moduleid, apis.apiid, content.content, zip\r\nFROM\r\n    sys_apps apps,\r\n    sys_modules modules,\r\n    sys_apis apis,\r\n    sys_api_content content\r\nWHERE\r\n    apps.appid = apis.appid\r\n        AND modules.appid = apis.appid\r\n        AND modules.moduleid = apis.moduleid\r\n        AND apps.status = \'1\'\r\n        AND modules.status = \'1\'\r\n        AND apis.status = \'1\'\r\n        AND (modules.auflag = \'0\'\r\n        OR modules.auflag = \'2\')\r\n        AND apis.contentid = content.contentid\r\n        AND content.stability = \'50\' \r\nUNION SELECT \r\n    apis.appid, apis.moduleid, apis.apiid, his_api.content, zip\r\nFROM\r\n    sys_apps apps,\r\n    sys_modules modules,\r\n    sys_apis apis,\r\n    (SELECT \r\n        his.stability, his.contentid, his.content, zip\r\n    FROM\r\n        sys_api_his_content his, (SELECT \r\n        MAX(max_his.updatedt) AS updatedt\r\n    FROM\r\n        sys_api_his_content max_his\r\n    WHERE\r\n        (max_his.stability = \'50\'\r\n            OR max_his.stability = \'60\')\r\n    GROUP BY max_his.contentid) max_his_api\r\n    WHERE\r\n        his.updatedt = max_his_api.updatedt\r\n            AND NOT EXISTS( SELECT \r\n                *\r\n            FROM\r\n                sys_api_content a\r\n            WHERE\r\n                (a.stability = \'50\' OR a.stability = \'60\')\r\n                    AND a.contentid = his.contentid)) his_api\r\nWHERE\r\n    his_api.stability = \'50\'\r\n        AND apps.appid = apis.appid\r\n        AND modules.appid = apis.appid\r\n        AND modules.moduleid = apis.moduleid\r\n        AND (modules.auflag = \'0\'\r\n        OR modules.auflag = \'2\')\r\n        AND apps.status = \'1\'\r\n        AND modules.status = \'1\'\r\n        AND apis.status = \'1\'\r\n        AND apis.contentid = his_api.contentid','缓存api使用','base'),('ide0005','SELECT all_api.content content\r\nFROM (\r\nSELECT apis.appid appid, apis.moduleid moduleid, apis.apiid apiid,content.content content \r\n 	FROM sys_apps apps, sys_modules modules, sys_apis apis, sys_api_content content \r\n 	WHERE apps.appid = apis.appid\r\n 		AND modules.appid = apis.appid\r\n 		AND modules.moduleid = apis.moduleid\r\n 		AND apps.status = \'1\'\r\n 		AND modules.status = \'1\'\r\n 		AND apis.status = \'1\'\r\n 		AND (modules.auflag = \'0\' OR modules.auflag = \'2\')\r\n 		AND apis.contentid = content.contentid\r\n 		AND content.stability = \'50\'\r\n union\r\n SELECT apis.appid appid, apis.moduleid moduleid, apis.apiid apiid,his_api.content content \r\n FROM sys_apps apps, sys_modules modules, sys_apis apis, (SELECT his.stability, his.contentid,his.content\r\n 	 FROM sys_api_his_content his, (\r\n         SELECT MAX(max_his.updatedt) AS updatedt\r\n 	    FROM sys_api_his_content max_his\r\n 		WHERE (max_his.stability = \'50\' OR max_his.stability = \'60\')\r\n 	    GROUP BY max_his.contentid\r\n         ) max_his_api\r\n         WHERE his.updatedt=max_his_api.updatedt\r\n         AND NOT EXISTS (\r\n 						SELECT * FROM sys_api_content a WHERE (a.stability = \'50\' OR a.stability = \'60\') AND a.contentid=his.contentid\r\n 						) \r\n ) his_api\r\n WHERE his_api.stability=\'50\'\r\n AND apps.appid = apis.appid\r\n AND modules.appid = apis.appid\r\n AND modules.moduleid = apis.moduleid\r\n AND (modules.auflag = \'0\' OR modules.auflag = \'2\')\r\n AND apps.status = \'1\'\r\n AND modules.status = \'1\'\r\n AND apis.status = \'1\'\r\n AND apis.contentid = his_api.contentid\r\n ) all_api WHERE all_api.appid=? AND all_api.moduleid=? AND all_api.apiid=? ','预留数据。从DB获取已上线的API','base'),('mdm_org','select orgid id, case when de0810011 is null then de0810013j else de0810011 end name, case when de0810011 is null then de0810013j else de0810011 end text, status, updatedt from mdm_org order by name','机构','dict'),('model0001','select modolcd typecd,modolnm  name,dstypecd,did,tablenm,sqltype,sqltext,sqlparams,typecontent,isui from sys_bm002','操纵模型缓存','model'),('model0002','select a.typecd,b.typenm name,a.table_json,a.did,a.editingtype,a.jsondata_select,a.fromcontent,a.jsondata_where,a.sel_whe_columns,a.sqltext,a.typecontent from sys_bm003 a,sys_bm001 b where a.typecd = b.typecd','多维模型-数据视图缓存','model'),('model0003','select a.typecd,b.typenm name,a.table_json,a.typecd_parent,a.tablesource,a.row_json,a.column_json,a.where_json,a.typecontent from sys_bm004 a,sys_bm001 b where a.typecd = b.typecd','多维模型-维度视图缓存','model'),('sys0001','select sysid,sysnm,ip,port,uri,inner_flag,orgid,status from sys_system','预留数据。获取所有系统信息','base'),('sys0002','select sysid,sysnm,ip,port,uri,inner_flag,orgid,status from sys_system where sysid=?','预留数据。获取指定系统信息','base'),('tenant0001','select tenant.orgid,tenant.org_type,tenant.init_db,tenant.pid,tenant.status from sys_tenant tenant,mdm_org org where tenant.orgid=org.orgid and org.status=\'1\' and tenant.status=\'1\'','预留数据。获取租户信息集合','base'),('user0001','select user1.pid,user1.userid,user1.nickname,user1.tel,user1.email,user1.password,user1.multiflag,user1.password_dt,user1.last_dt,user1.last_ip,mdm.de0201039 from sys_userinfo user1 left join mdm_personal_info mdm on user1.pid=mdm.pid where user1.userid=? and user1.status=\'1\' and mdm.status=\'1\'','预留数据。用户信息','base'),('user0002','select u.tp_appid appid,u.uid uid,u.scope scope,u.req_scope req_scope from sys_pl_tp_app_uid u,sys_pl_tp_app app where u.tp_appid=app.tp_appid and u.pid=? and u.status=\'1\' and app.status=\'1\'','预留数据。获取用户绑定的第三方用户ID列表','base'),('user0003','select sys_tenant.orgid orgid,mdm_org.de0810013j orgnm,sys_tenant.org_type org_type,sys_tenant.url,sys_tenant_user.admin_flag \r\nfrom sys_tenant_user,sys_tenant,mdm_org \r\nwhere sys_tenant_user.pid=? and sys_tenant_user.orgid=sys_tenant.orgid and sys_tenant.orgid=mdm_org.orgid \r\nand sys_tenant_user.status=\'1\' and sys_tenant.status=\'1\' and mdm_org.status=\'1\'','预留数据。获取指定用户所属机构列表','base'),('user0004','select user1.pid,user1.userid,user1.nickname,user1.tel,user1.email,user1.password,user1.multiflag,user1.password_dt,user1.last_dt,user1.last_ip,mdm.de0201039 from sys_userinfo user1 left join mdm_personal_info mdm on user1.pid=mdm.pid where user1.status=\'1\' and mdm.status=\'1\'','预留数据。从平台mdm_personal_info表获取人名','base'),('user0007','select user1.pid,user1.userid,user1.nickname,user1.tel,user1.email,user1.password,user1.multiflag,user1.password_dt,user1.last_dt,user1.last_ip,mdm.de0201039 from sys_userinfo user1 left join mdm_personal_info mdm on user1.pid=mdm.pid where user1.tel=? and user1.status=\'1\' and mdm.status=\'1\'','预留数据','base'),('user0008','select user1.pid,user1.userid,user1.nickname,user1.tel,user1.email,user1.password,user1.multiflag,user1.password_dt,user1.last_dt,user1.last_ip,mdm.de0201039 from sys_userinfo user1 left join mdm_personal_info mdm on user1.pid=mdm.pid where user1.email=? and user1.status=\'1\' and mdm.status=\'1\'','预留数据。','base'),('user0009','update sys_userinfo set last_dt=?,last_ip=?,updatedt=? where userid=?','系统预留。','base'),('user0010','insert into sys_pl_tp_app_uid(tp_appid,pid,scope,req_scope,uid,status,createdt,updatedt) values (?,?,?,?,?,?,?,?)','预留数据。','base'),('user0011','update sys_pl_tp_app_uid set scope=?,req_scope=?,updatedt=? where tp_appid=? and pid=?','系统预留。','base'),('user0012','select ug.ugid,u.pid,u.userid from sys_ug ug,sys_ug_user uu,sys_userinfo u where ug.ugid=uu.ugid and uu.pid=u.pid and ug.status=\'1\' and uu.status=\'1\' and u.status=\'1\'','系统预留','base'),('user0013','select scope.scope scope from sys_pl_tp_app client,sys_pl_client_scope scope where client.tp_appid=? and client.tp_appid=scope.client_id and client.status=\'1\' and scope.status=\'1\'','系统预留','base'),('vendor0001','select vendorid,vendornm,pid,status from sys_vendor','预留数据。获取开发商信息集合','base');
/*!40000 ALTER TABLE `sys_sqls` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-02-15 15:35:29
